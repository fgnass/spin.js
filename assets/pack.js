var fdSlider=function(){function e(e){function t(e){e=!!e,e!=zt&&(zt=e,R(V()))}function n(e){if(!nt||e){try{m(Q,"focus",p),m(Q,"blur",y),l?m(Q,"keypress",N):(m(Q,"keydown",N),m(Q,"keypress",M)),m(_,"mouseover",E),m(_,"mouseout",S),m(_,"mousedown",T),m(_,"touchstart",T),i&&(window.addEventListener&&!window.devicePixelRatio?window.removeEventListener("DOMMouseScroll",x,!1):(m(document,"mousewheel",x),m(window,"mousewheel",x)))}catch(t){}clearTimeout(Nt),g(_,"fd-slider-focused"),g(_,"fd-slider-active"),b(_,"fd-slider-disabled"),_.setAttribute("aria-disabled",!0),tt.disabled=nt=!0,e||f("disable")}}function u(e){(nt||e)&&(h(Q,"focus",p),h(Q,"blur",y),l?h(Q,"keypress",N):(h(Q,"keydown",N),h(Q,"keypress",M)),h(_,"touchstart",T),h(_,"mousedown",T),h(_,"mouseover",E),h(_,"mouseout",S),g(_,"fd-slider-disabled"),_.setAttribute("aria-disabled",!1),tt.disabled=nt=Wt=!1,e||f("enable"))}function c(){clearTimeout(Nt),q=et=Q=_=Nt=null,f("destroy"),wt=null}function d(){A();try{var e=_.offsetWidth,t=_.offsetHeight,n=Q.offsetWidth,i=Q.offsetHeight,a=(et.offsetHeight,et.offsetWidth,vt?t-i:e-n);Ft=a/ft,Vt=Math.max(pt?B(W(rt)):Math.abs((rt-at)/lt)*Ft,0),jt=Math.min(pt?B(W(st)):Math.abs((st-at)/lt)*Ft,Math.floor(vt?t-i:e-n)),Tt=e,St=t,R(gt||xt?V():"select"==it?tt.selectedIndex:parseFloat(tt.value))}catch(o){}f("redraw")}function f(e){if(gt){if(e.match(/^(blur|focus|change)$/i))if(document.createEventObject!==void 0)try{var t=document.createEventObject();tt.fireEvent("on"+e.toLowerCase(),t)}catch(n){}else if(document.createEvent!==void 0){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),tt.dispatchEvent(t)}}else if(wt.hasOwnProperty(e))for(var i,a={disabled:nt,elem:tt,value:"select"==it?tt.options[tt.selectedIndex].value:tt.value},o=0;i=wt[e][o];o++)i.call(tt,a)}function p(){return b(_,"fd-slider-focused"),r.onfocus&&(zt=!0,R(V())),i&&(h(window,"DOMMouseScroll",x),h(document,"mousewheel",x),l||h(window,"mousewheel",x)),f("focus"),!0}function y(){g(_,"fd-slider-focused"),i&&(m(document,"mousewheel",x),m(window,"DOMMouseScroll",x),l||m(window,"mousewheel",x)),Et=!0,f("blur")}function x(e){if(Et){e=e||window.event;var t=0;if(e.wheelDelta?(t=e.wheelDelta/120,l&&9.2>window.opera.version()&&(t=-t)):e.detail&&(t=-e.detail/3),vt&&(t=-t),t){var n=V();n+=0>t?-lt:lt,zt=!0,R($(n))}return v(e)}}function M(e){return e=e||window.event,e.keyCode>=33&&40>=e.keyCode||!Et||45==e.keyCode||46==e.keyCode?v(e):!0}function N(e){if(!Et)return!0;e=e||window.event;var t=null!=e.keyCode?e.keyCode:e.charCode;if(33>t||t>40&&45!=t&&46!=t)return!0;var n=V();37==t||40==t||46==t||34==t?n-=e.ctrlKey||34==t?+ct:+lt:39==t||38==t||45==t||33==t?n+=e.ctrlKey||33==t?+ct:+lt:35==t?n=st:36==t&&(n=rt),zt=!0,R($(n)),f("update"),w(e)}function E(){b(_,"fd-slider-hover")}function S(){g(_,"fd-slider-hover")}function T(e){e=e||window.event,w(e);var t;if(e.target?t=e.target:e.srcElement&&(t=e.srcElement),3==t.nodeType&&(t=t.parentNode),e.touches){if(e.targetTouches&&1!=e.targetTouches.length)return!1;e=e.touches[0],Wt=!0}if(clearTimeout(Nt),Nt=null,Et=!1,zt=!0,-1!=t.className.search("fd-slider-handle"))Rt=vt?e.clientY:e.clientX,$t=parseInt(vt?Q.offsetTop:Q.offsetLeft)||0,I(e),Wt?(h(document,"touchmove",I),h(document,"touchend",k),m(_,"mousedown",T)):(h(document,"mousemove",I),h(document,"mouseup",k)),b(_,"fd-slider-active"),b(document.body,"fd-slider-drag-"+(vt?"vertical":"horizontal"));else{A();var n=0,i=0,a=0;document.documentElement&&document.documentElement.scrollTop?(a=document.documentElement.scrollTop,i=document.documentElement.scrollLeft):document.body&&(a=document.body.scrollTop,i=document.body.scrollLeft),e.pageX?n=vt?e.pageY:e.pageX:e.clientX&&(n=vt?e.clientY+a:e.clientX+i),n-=vt?Ht+Math.round(Q.offsetHeight/2):Ot+Math.round(Q.offsetWidth/2),n=F(n),"tween"==mt?(b(_,"fd-slider-active"),H(n)):"timed"==mt?(b(_,"fd-slider-active"),h(document,Wt?"touchend":"mouseup",C),Dt=n,O()):D(n)}return v(e)}function C(e){return e=e||window.event,w(e),m(document,Wt?"touchend":"mouseup",C),g(_,"fd-slider-active"),clearTimeout(Nt),Nt=null,Et=!0,v(e)}function k(e){return e=e||window.event,w(e),Wt?(m(document,"touchmove",I),m(document,"touchend",k)):(m(document,"mousemove",I),m(document,"mouseup",k)),Et=!0,g(document.body,"fd-slider-drag-"+(vt?"vertical":"horizontal")),g(_,"fd-slider-active"),v(e)}function I(e){if(e=e||window.event,w(e),e.touches){if(e.targetTouches&&1!=e.targetTouches.length)return!1;e=e.touches[0]}return D(F($t+(vt?e.clientY-Rt:e.clientX-Rt))),!1}function L(e){var t=V();zt=!0,t+=e*lt,R($(t))}function A(){var e=0,t=0,n=_;try{for(;n.offsetParent;)e+=n.offsetLeft,t+=n.offsetTop,n=n.offsetParent}catch(i){}Ot=e,Ht=t}function O(){var e=parseInt(vt?Q.offsetTop:Q.offsetLeft,10);e=Math.round(e>Dt?Math.max(Dt,Math.floor(e-Ft)):Math.min(Dt,Math.ceil(e+Ft))),D(F(e)),e!=Dt?Nt=setTimeout(O,ft>20?50:100):(Et=!0,g(_,"fd-slider-active"),f("finalise"))}function H(e){Et=!1,Ct=parseInt(e,10),kt=parseInt(vt?Q.offsetTop:Q.offsetLeft,10),It=Ct-kt,Lt=20,At=0,Nt||(Nt=setTimeout(Bt,20))}function j(e){return isNaN(e)||""===e||e===void 0?(zt=!1,yt):Math.min(rt,st)>e?(zt=!1,Math.min(rt,st)):e>Math.max(rt,st)?(zt=!1,Math.max(rt,st)):(zt=!0,e)}function V(){return $("input"==it?parseFloat(tt.value):tt.selectedIndex)}function $(e){return isNaN(e)||""===e||e===void 0?yt:Math.min(Math.max(e,Math.min(rt,st)),Math.max(rt,st))}function D(e){var t=$(pt?z(P(e)):vt?ot-Math.round(e/Ft)*lt:at+Math.round(e/Ft)*lt);Q.style[vt?"top":"left"]=(e||0)+"px",J(),X("select"==it||1==lt?Math.round(t):t)}function R(e){var t,n=!1;void 0!==e&&!isNaN(e)&&""!==e||"input"!=it||gt||xt?t=j(e):(t=yt,n=!0,zt=!1),Q.style[vt?"top":"left"]=(pt?B(W(t)):vt?Math.round((ot-t)/lt*Ft):Math.round((t-at)/lt*Ft))+"px",J(),X(n?"":t)}function F(e){if(pt)return Math.max(Math.min(jt,e),Vt);var t=e%Ft;return t&&t>=Ft/2?e+=Ft-t:e-=t,Math.min(Math.abs(Vt),Math.abs(jt))>e?e=Math.min(Math.abs(Vt),Math.abs(jt)):e>Math.max(Math.abs(Vt),Math.abs(jt))&&(e=Math.max(Math.abs(Vt),Math.abs(jt))),Math.min(Math.max(e,0),jt)}function z(e){var t,n=0,i=at;for(var a in pt)pt.hasOwnProperty(a)&&(e>=n&&+a>=e&&(t=i+(e-n)*(+pt[a]-i)/(+a-n)),n=+a,i=+pt[a]);return t}function W(e){var t=0,n=at,i=0;for(var a in pt)pt.hasOwnProperty(a)&&(e>=n&&+pt[a]>=e&&(i=t+(e-n)*(+a-t)/(+pt[a]-n)),t=+a,n=+pt[a]);return i}function B(e){return(_[vt?"offsetHeight":"offsetWidth"]-Q[vt?"offsetHeight":"offsetWidth"])/100*e}function P(e){return e/((_[vt?"offsetHeight":"offsetWidth"]-_[Q?"offsetHeight":"offsetWidth"])/100)}function X(e){if(f("update"),zt?g(_,"fd-slider-no-value"):b(_,"fd-slider-no-value"),"select"==it)try{if(e=parseInt(e,10),tt.selectedIndex===e)return;tt.options[e].selected=!0}catch(t){}else{if(""!=e&&(e=(at+Math.round((e-at)/lt)*lt).toFixed(dt)),tt.value===e)return;tt.value=e}K(),f("change")}function U(e,t){rt>st?(e=Math.min(at,Math.max(e,t)),t=Math.max(ot,Math.min(e,t)),rt=Math.max(e,t),st=Math.min(e,t)):(e=Math.max(at,Math.min(e,t)),t=Math.min(ot,Math.max(e,t)),rt=Math.min(e,t),st=Math.max(e,t)),Math.min(rt,st)>yt?yt=Math.min(rt,st):yt>Math.max(rt,st)&&(yt=Math.max(rt,st)),Q.setAttribute("aria-valuemin",rt),Q.setAttribute("aria-valuemax",st),j("input"==it?parseFloat(tt.value):tt.selectedIndex),d()}function J(){s||(vt?Z.style.height=et.offsetHeight-Q.offsetTop+"px":Z.style.width=Q.offsetLeft+"px")}function Y(){for(var e,t=!1,n=document.getElementsByTagName("label"),i=0;e=n[i];i++)if(e.htmlFor&&e.htmlFor==tt.id||e.getAttribute("for")==tt.id){t=e;break}return t&&!t.id&&(t.id=tt.id+"_label"),t}function K(){Q.setAttribute("aria-valuenow","select"==it?tt.options[tt.selectedIndex].value:tt.value),Q.setAttribute("aria-valuetext","select"==it?tt.options[tt.selectedIndex].text?tt.options[tt.selectedIndex].text:tt.options[tt.selectedIndex].value:tt.value)}function G(){zt=!0,R("input"==it?parseFloat(tt.value):tt.selectedIndex),K()}function t(e){zt=!!e}var _,q,Q,Z,et,tt=e.inp,nt=!1,it=tt.tagName.toLowerCase(),at=+e.min,ot=+e.max,rt=+e.min,st=+e.max,ut=Math.abs(ot-at),lt="select"==it?1:+e.step,ct=e.maxStep?+e.maxStep:2*lt,dt=e.precision||0,ft=Math.ceil(ut/lt),pt=e.scale||!1,ht=!!e.hideInput,mt=e.animation||"",vt=!!e.vertical,wt=e.callbacks||{},bt=e.classNames||"",gt=!!e.html5Shim,yt=at>ot?at:at+(ot-at)/2,xt=gt||!!e.forceValue,Mt=gt&&vt&&"inpHeight"in e?e.inpHeight:!1,Nt=null,Et=!0,St=0,Tt=0,Ct=0,kt=0,It=0,Lt=0,At=0,Ot=0,Ht=0,jt=0,Vt=0,$t=0,Dt=0,Rt=0,Ft=0,zt=!1,Wt=!1;at>ot&&(lt=-Math.abs(lt),ct=-Math.abs(ct)),pt&&(pt[100]=ot);var Bt=function(){At++;var e=It,t=20,n=At,i=kt,a=Math.ceil(n==t?i+e:e*(-Math.pow(2,-10*n/t)+1)+i);D(n==t?Ct:a),n!=t?(f("move"),Nt=setTimeout(Bt,20)):(clearTimeout(Nt),Nt=null,Et=!0,g(_,"fd-slider-focused"),g(_,"fd-slider-active"),f("finalise"))};return function(){gt||ht?b(tt,"fd-form-element-hidden"):h(tt,"change",G),gt&&(tt.stepUp=function(e){L(e||1)},tt.stepDown=function(e){L(e||-1)}),_=document.createElement("span"),_.className="fd-slider"+(vt?"-vertical ":" ")+(gt?"":" fd-slider-no-value ")+bt,_.id="fd-slider-"+tt.id,vt&&Mt&&(_.style.height=Mt+"px"),q=document.createElement("span"),q.className="fd-slider-inner",et=document.createElement("span"),et.className="fd-slider-bar",s||(Z=document.createElement("span"),Z.className="fd-slider-range"),a?(Q=document.createElement("span"),Q.tabIndex=0):(Q=document.createElement("a"),Q.setAttribute("href","#")),Q.className="fd-slider-handle",Q.appendChild(document.createTextNode(String.fromCharCode(160))),_.appendChild(q),s||_.appendChild(Z),_.appendChild(et),_.appendChild(Q),tt.parentNode.insertBefore(_,tt),_.setAttribute("role","application"),Q.setAttribute("role","slider"),Q.setAttribute("aria-valuemin","select"==it?tt.options[0].value:at),Q.setAttribute("aria-valuemax","select"==it?tt.options[tt.options.length-1].value:ot);var e=Y();e&&(Q.setAttribute("aria-labelledby",e.id),Q.id="fd-slider-handle-"+tt.id,e.setAttribute("for",Q.id)),document.getElementById(o)&&Q.setAttribute("aria-describedby",o),1==tt.getAttribute("disabled")?n(!0):u(!0),r.onvalue&&(zt=!0,j("input"==it?parseFloat(tt.value):tt.selectedIndex)),K(),f("create"),d()}(),{onResize:function(){(_.offsetHeight!=St||_.offsetWidth!=Tt)&&d()},destroy:function(){c()},reset:function(){R("input"==it?parseFloat(tt.value):tt.selectedIndex)},stepUp:function(e){L(Math.abs(e)||1)},stepDown:function(e){L(-Math.abs(e)||-1)},increment:function(e){L(e)},disable:function(){n()},enable:function(){u()},setRange:function(e,t){U(e,t)},getValueSet:function(){return!!zt},setValueSet:function(e){t(e)},ieCheckValue:function(){r.onvalue&&(zt=!0,j("input"==it?parseFloat(tt.value):tt.selectedIndex),K(),d())}}}var t={},n=0,i=!0,a=!0,o="fd-slider-describedby",r={onfocus:!0,onvalue:!0},s=!1,u="jump",l="[object Opera]"===Object.prototype.toString.call(window.opera),c=/^([-]{0,1}[0-9]+(\.[0-9]+){0,1})$/,d=/^([0-9]+(\.[0-9]+){0,1})$/,f=function(e){if("string"!=typeof e||""==e)return{};try{if("object"==typeof JSON&&JSON.parse)return window.JSON.parse(e);if(/mousewheelenabled|fullaria|describedby|norangebar|html5animation|varsetrules/.test(e.toLowerCase())){var t=Function(["var document,top,self,window,parent,Number,Date,Object,Function,","Array,String,Math,RegExp,Image,ActiveXObject;","return (",e.replace(/<\!--.+-->/gim,"").replace(/\bfunction\b/g,"function-"),");"].join(""));return t()}}catch(n){}return{err:"Could not parse the JSON object"}},p=function(e){if("object"==typeof e)for(key in e)switch(value=e[key],key.toLowerCase()){case"mousewheelenabled":i=!!value;break;case"fullaria":a=!!value;break;case"describedby":o=value+"";break;case"norangebar":s=!!value;break;case"html5animation":u=-1!=(value+"").search(/^(jump|tween|timed)$/i)?(value+"").toLowerCase():"jump";break;case"varsetrules":"onfocus"in value&&(r.onfocus=!!value.onfocus),"onvalue"in value&&(r.onvalue=!!value.onvalue)}},h=function(e,t,n){e.attachEvent?(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n](window.event)},e.attachEvent("on"+t,e[t+n])):e.addEventListener(t,n,!0)},m=function(e,t,n){try{e.detachEvent?(e.detachEvent("on"+t,e[t+n]),e[t+n]=null):e.removeEventListener(t,n,!0)}catch(i){}},v=function(e){return e=e||window.event,e.stopPropagation&&(e.stopPropagation(),e.preventDefault()),!1},w=function(e){return e=e||window.event,e.preventDefault?(e.preventDefault(),void 0):(e.returnValue=!1,void 0)},b=function(e,t){RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)||(e.className+=(e.className?" ":"")+t)},g=function(e,t){e.className=t?e.className.replace(RegExp("(^|\\s)"+t+"(\\s|$)")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""):""},y=function(){var e={};for(id in t)e[id]=t[id].getValueSet();return e},x=function(e,n){e in t&&t[e].setValueSet(!!n)},M=function(n){if(!n||!n.inp||!n.inp.tagName||-1==n.inp.tagName.search(/^input|select/i))return!1;if(n.html5Shim=!1,"select"==n.inp.tagName.toLowerCase()){if(2>n.inp.options.length)return!1;n.min=0,n.max=n.inp.options.length-1,n.step=1,n.precision=0,n.scale=!1,n.forceValue=!0}else{if(-1==(n.inp.type+"").search(/^text$/i))return!1;n.min=n.min&&-1!=(n.min+"").search(c)?+n.min:0,n.max=n.max&&-1!=(n.max+"").search(c)?+n.max:100,n.step=n.step&&-1!=(n.step+"").search(d)?n.step:1,n.precision=n.precision&&-1!=(n.precision+"").search(/^[0-9]+$/)?n.precision:-1!=(n.step+"").search(/\.([0-9]+)$/)?(n.step+"").match(/\.([0-9]+)$/)[1].length:0,n.scale=n.scale||!1,n.forceValue="forceValue"in n?!!n.forceValue:!1}return n.maxStep=n.maxStep&&-1!=(n.maxStep+"").search(d)?+n.maxStep:2*+n.step,n.classNames=n.classNames||"",n.callbacks=n.callbacks||!1,S(n.inp.id),t[n.inp.id]=new e(n),!0},N=function(e,t){return e.getAttribute(t)||""},E=function(){for(var i,a,o=document.getElementsByTagName("input"),r=0;a=o[r];r++)if("input"==a.tagName.toLowerCase()&&"text"==a.type.toLowerCase()&&(N(a,"min")&&-1!=N(a,"min").search(c)||N(a,"max")&&-1!=N(a,"max").search(c)||N(a,"step")&&-1!=N(a,"step").search(/^(any|([0-9]+(\.[0-9]+){0,1}))$/i))){if(a.id&&document.getElementById("fd-slider-"+a.id))continue;a.id&&!document.getElementById("fd-slider-"+a.id)&&S(a.id),a.id||(a.id="fd-slider-form-elem-"+n++),i={inp:a,callbacks:[],animation:u,vertical:N(a,"data-fd-slider-vertical")?!0:!!(a.offsetHeight>a.offsetWidth),classNames:N(a,"data-fd-slider-vertical"),html5Shim:!0},i.vertical&&!N(a,"data-fd-slider-vertical")&&(i.inpHeight=a.offsetHeight),i.min=N(a,"min")||0,i.max=N(a,"max")||100,i.step=-1!=N(a,"step").search(/^any$/i)?i.max-i.min:-1!=N(a,"step").search(d)?a.getAttribute("step"):1,i.precision=-1!=(i.step+"").search(/\.([0-9]+)$/)?(i.step+"").match(/\.([0-9]+)$/)[1].length:0,i.maxStep=2*i.step,S(i.inp.id),t[i.inp.id]=new e(i)}return!0},S=function(e){return e in t?(t[e].destroy(),delete t[e],!0):!1},T=function(){for(slider in t)t[slider].destroy();t=[]},C=function(){T(),t=null},k=function(){for(slider in t)t[slider].onResize()},I=function(){m(window,"load",E),E()},L=function(){m(window,"load",E)};return h(window,"load",E),h(window,"resize",k),h(window,"unload",C),function(){var e=document.getElementsByTagName("script"),t=(e[e.length-1].innerHTML+"").replace(/[\n\r\s\t]+/g," ").replace(/^\s+/,"").replace(/\s+$/,""),n=f(t);"object"!=typeof n||"err"in n||p(n)}(),{createSlider:function(e){M(e)},destroyAll:function(){T()},destroySlider:function(e){return S(e)},redrawAll:function(){k()},increment:function(e,n){return e in t?(t[e].increment(n),void 0):!1},stepUp:function(e,n){return e in t?(t[e].stepUp(Math.abs(n)||1),void 0):!1},stepDown:function(e,n){return e in t?(t[e].stepDown(-Math.abs(n)||-1),void 0):!1},setRange:function(e,n,i){return e in t?(t[e].setRange(n,i),void 0):!1},addEvent:h,removeEvent:m,stopEvent:v,updateSlider:function(e){return e in t?(t[e].reset(),void 0):!1},onDomReady:function(){I()},disable:function(e){return e in t?(t[e].disable(),void 0):!1},enable:function(e){return e in t?(t[e].enable(),void 0):!1},getValueSet:function(){return y()},setValueSet:function(e,t){x(e,t)},setGlobalVariables:function(e){p(e)},removeOnload:function(){L()}}}();!function(e,t,n){function i(e,n){var i,a=t.createElement(e||"div");for(i in n)a[i]=n[i];return a}function a(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function o(e,t,n,i){var a=["opacity",t,~~(100*e),n,i].join("-"),o=.01+100*(n/i),r=Math.max(1-(1-e)/t*(100-o),e),s=c.substring(0,c.indexOf("Animation")).toLowerCase(),u=s&&"-"+s+"-"||"";return f[a]||(p.insertRule("@"+u+"keyframes "+a+"{"+"0%{opacity:"+r+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+r+"}"+"}",p.cssRules.length),f[a]=1),a}function r(e,t){var i,a,o=e.style;if(o[t]!==n)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),a=0;d.length>a;a++)if(i=d[a]+t,o[i]!==n)return i}function s(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function u(e){for(var t=1;arguments.length>t;t++){var i=arguments[t];for(var a in i)e[a]===n&&(e[a]=i[a])}return e}function l(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var c,d=["webkit","Moz","ms","O"],f={},p=function(){var e=i("style",{type:"text/css"});return a(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"},m=function m(e){return this.spin?(this.opts=u(e||{},m.defaults,h),n):new m(e)};m.defaults={},u(m.prototype,{spin:function(e){this.stop();var t,n,a=this,o=a.opts,r=a.el=s(i(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),u=o.radius+o.length+o.width;if(e&&(e.insertBefore(r,e.firstChild||null),n=l(e),t=l(r),s(r,{left:("auto"==o.left?n.x-t.x+(e.offsetWidth>>1):parseInt(o.left,10)+u)+"px",top:("auto"==o.top?n.y-t.y+(e.offsetHeight>>1):parseInt(o.top,10)+u)+"px"})),r.setAttribute("aria-role","progressbar"),a.lines(r,a.opts),!c){var d=0,f=o.fps,p=f/o.speed,h=(1-o.opacity)/(p*o.trail/100),m=p/o.lines;(function v(){d++;for(var e=o.lines;e;e--){var t=Math.max(1-(d+e*m)%p*h,o.opacity);a.opacity(r,o.lines-e,t,o)}a.timeout=a.el&&setTimeout(v,~~(1e3/f))})()}return a},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=n),this},lines:function(e,t){function n(e,n){return s(i(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*u+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.corners*t.width>>1)+"px"})}for(var r,u=0;t.lines>u;u++)r=s(i(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:c&&o(t.opacity,t.trail,u,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&a(r,s(n("#000","0 0 4px #000"),{top:"2px"})),a(e,a(r,n(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){e.childNodes.length>t&&(e.childNodes[t].style.opacity=n)}}),function(){function e(e,t){return i("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=s(i("group"),{behavior:"url(#default#VML)"});!r(t,"transform")&&t.adj?(p.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(t,n){function i(){return s(e("group",{coordsize:l+" "+l,coordorigin:-u+" "+-u}),{width:l,height:l})}function o(t,o,r){a(d,a(s(i(),{rotation:360/n.lines*t+"deg",left:~~o}),a(s(e("roundrect",{arcsize:n.corners}),{width:u,height:n.width,left:n.radius,top:-n.width>>1,filter:r}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var r,u=n.length+n.width,l=2*u,c=2*-(n.width+n.length)+"px",d=s(i(),{position:"absolute",top:c,left:c});if(n.shadow)for(r=1;n.lines>=r;r++)o(r,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(r=1;n.lines>=r;r++)o(r);return a(t,d)},m.prototype.opacity=function(e,t,n,i){var a=e.firstChild;i=i.shadow&&i.lines||0,a&&a.childNodes.length>t+i&&(a=a.childNodes[t+i],a=a&&a.firstChild,a=a&&a.firstChild,a&&(a.opacity=n))}):c=r(t,"animation")}(),"function"==typeof define&&define.amd?define(function(){return m}):e.Spinner=m}(window,document);